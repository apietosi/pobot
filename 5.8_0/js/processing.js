var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(z){return z.raw=z};$jscomp.createTemplateTagFirstArgWithRaw=function(z,n){z.raw=n;return z};
$(document).ready(function(z){function n(a){a=new Date(1E3*a);var f=a.getFullYear(),c,g,h,l,p;10>a.getMonth()+1?c="0"+(a.getMonth()+1):c=a.getMonth()+1;10>a.getDate()?g="0"+a.getDate():g=a.getDate();10>a.getHours()?h="0"+a.getHours():h=a.getHours();10>a.getMinutes()?l="0"+a.getMinutes():l=a.getMinutes();10>a.getSeconds()?p="0"+a.getSeconds():p=a.getSeconds();return g+"."+c+"."+f+" "+h+":"+l+":"+p}function R(a){return(a=document.cookie.match(new RegExp("(?:^|; )"+a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,
"\\$1")+"=([^;]*)")))?decodeURIComponent(a[1]):void 0}function w(){try{m.initiator_storage_update="processing",chrome.storage.local.set(m,function(){})}catch(a){location.reload()}}function S(a,f){if(void 0==d[a])return a;void 0==f&&(f={});var c=d[a][e];for(key in f)c=c.replace("${"+key+"}",f[key]);return c}function ca(a,f){var c="settings_panel transaction operating_time mode martin same_time_deals initial_bet expiration apply_mg sl tp".split(" "),g=JSON.parse(JSON.stringify(a)),h=JSON.parse(JSON.stringify(f)),
l;for(l in h)for(var p in h[l])for(var t=0;t<c.length;t++)try{delete h[l][p][c[t]],delete g[l][p][c[t]]}catch(b){return!0}return JSON.stringify(g)!=JSON.stringify(h)?!0:!1}function T(a){if(a.from==a.to)return!0;var f=new Date,c,g,h,l,p;10>f.getDate()?c="0"+f.getDate():c=f.getDate();10>f.getMonth()+1?g="0"+(f.getMonth()+1):g=f.getMonth()+1;10>f.getHours()?h="0"+f.getHours():h=f.getHours();10>f.getMinutes()?l="0"+f.getMinutes():l=f.getMinutes();10>f.getSeconds()?p="0"+f.getSeconds():p=f.getSeconds();
h=Date.parse(f.getFullYear()+"-"+g+"-"+c+"T"+h+":"+l+":"+p);l=Date.parse(f.getFullYear()+"-"+g+"-"+c+"T"+a.from+":00");a=Date.parse(f.getFullYear()+"-"+g+"-"+c+"T"+a.to+":00");l>a&&(a+=864E5);return h>=l&&h<=a?!0:!1}function G(a){for(var f in m.plagin.strategy)if("run"!=f)for(var c in m.plagin.strategy[f])if(c==a)return m.plagin.strategy[f][c]}function da(a){switch(a.type){case "signals_indicators":ea(a);break;case "notify_access":a.access?($("header .robot-platform-info").html(" &#10004; "+d.robot_connected_platform[e]+
" "+(1==m.user.isDemo?d.demoacaunt[e]:d.realacaunt[e])),U(),"undefined"!=typeof a.limit&&V(d.notification[e],S("trial_period_ends",{min:Math.floor((a.limit-Date.now()/1E3)/60),regurl:"https://pocketoptionrobot.com/link/?affiliateId="+m.plagin.setting.service_setings.affiliate_id+"&linkId=reg_link",vkurl:"https://pocketoptionrobot.com/link/?affiliateId="+m.plagin.setting.service_setings.affiliate_id+"&linkId=vk_group"}),[{"class":"notify_close",title:d.noti_close[e],func:function(){$("#notification-conteyner").remove()}},
{"class":"notify_open_reg",title:d.register_account[e],func:function(){x.postMessage({type:"open_reglinck",domain:document.location.host})}}]),K("connect.wav")):($("header .robot-platform-info").html(" &#10008; "+d.robot_not_connected_platform[e]),V(d.notification[e],S("your_account_must_be_registered_link_project",{regurl:"https://pocketoptionrobot.com/link/?affiliateId="+m.plagin.setting.service_setings.affiliate_id+"&linkId=reg_link",vkurl:"https://pocketoptionrobot.com/link/?affiliateId="+m.plagin.setting.service_setings.affiliate_id+
"&linkId=vk_group"}),[{"class":"notify_close",title:d.noti_close[e],func:function(){$("#notification-conteyner").remove()}},{"class":"notify_open_reg",title:d.register_account[e],func:function(){x.postMessage({type:"open_reglinck",domain:document.location.host})}}]))}}function fa(a){u.emit("ps");a=A(a);for(var f=!1,c=0;c<a.length;c++){"undefined"!=typeof m.platform.activ[a[c][3]]&&(m.platform.activ[a[c][3]][a[c][1]]={id:a[c][1],title:a[c][2]});var g=m.platform.asset_status;g.available[a[c][1]]={id:a[c][1],
val:a[c][14]};g.available_expiration[a[c][1]]={id:a[c][1],val:1==W["is-fully-verified"]||0<a[c][1].indexOf("_otc")?a[c][17]:60};g.yield[a[c][1]]={id:a[c][1],val:a[c][5]};"currency"==a[c][3]&&a[c][14]&&!f&&(u.emit("changeSymbol",{asset:a[c][1],prevAsset:a[c][1],reason:0,otherData:{},period:5}),f=!0)}w()}function X(a){for(var f=0;f<a.length;f++)m.user[a[f].name]=a[f].val,w()}function U(){var a={},f=m.plagin.strategy;a.type="userstrat";a.userid=m.user.uid;a.strategy=[];for(var c in f)for(var g in f[c])if("run"==
f[c][g].status){var h=f[c][g],l={};l.id=g;l.title=h.title;l.asset={};for(var p in h.asset)l.asset[p]=!0;l.indicator=h.indicator;l.min_perc=h.min_perc;a.strategy.push(l)}return Y(JSON.stringify(a))}function ha(a){$("script").each(function(f,c){var g=$(c).text();if(0!=g.indexOf("AppData")+1)return g=g.match(/\{.*\}/),a(JSON.parse(g[0]))})}function ia(a){W=a;var f={};f.fullname=a.full-name;f.email=a.email;f.uid=a.uid;f.isdemo=a["is-demo"];f.userbalance=a["user-balance"];f.userdemobalance=a["user-demo-balance"];
f.isdemoprofile=a["is-demo-profile"];f["is-fully-verified"]=a["is-fully-verified"];return f}function A(a){a=new Uint8Array(a);a=(new TextDecoder("utf-8")).decode(a);try{return JSON.parse(a)}catch(f){return a}}function ja(a){a=A(a);for(var f=0;f<a.length;f++)L=Date.now()/1E3-a[f][1];a=Math.round(Date.now()/1E3);50<a-Z&&(u.emit("ps"),Z=a)}function ka(a,f){a.session=R("ci_session");$("header .right-block").before('<div class="robot-platform-info">&#9850; \u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 .....</div>');
u=io(R("wsserver"),{transports:["websocket"]});u.on("connect",function(){u.emit("auth",{session:a.session,isDemo:a.isdemo,uid:a.uid})});u.on("successauth",function(){M||(M=!0,f(a))});u.on("updateMarketForecast",function(){u.emit("ps")});u.on("updateStream",ja);u.on("updateAssets",fa);u.on("successopenOrder",la);u.on("successcloseOrder",ma);u.on("updateClosedDeals",na);u.on("successupdateBalance",function(c){M||u.emit("auth",{session:a.session,isDemo:a.isdemo,uid:a.uid});c=A(c);X([{name:"balans",val:c.balance}])});
u.on("failopenOrder",function(c){c=A(c);var g=N(c.requestId);if(g.status){var h=g.deal;h.comment.push(n(Math.round(Date.now()/1E3))+" "+d.error_received[e]+" "+c.error+" "+d.when_opening_trade[e]+".");var l=n(Math.round(Date.now()/1E3));r(c.requestId,{open_time:l,close_time:l,status:d.refusal[e],arr_coment:JSON.stringify(h.comment)});switch(c.error){case "NotEnoughFunds":h.comment.push(n(Math.round(Date.now()/1E3))+" "+d.not_enough_money_open_deal[e]);r(c.requestId,{status:d.refusal[e],arr_coment:JSON.stringify(h.comment)});
break;default:void 0==h.bad_req||3>h.bad_req?(h.comment.push(n(Math.round(Date.now()/1E3))+" "+d.second_attempt_open_trade_will_be_made[e]),r(c.requestId,{status:d.refusal[e],arr_coment:JSON.stringify(h.comment)}),c={},c.strid=h.strid,c.bad_req=void 0==h.bad_req?1:h.bad_req+1,"undefined"!=typeof h.infomartin&&(c.infomartin=JSON.parse(JSON.stringify(h.infomartin))),c.comment=[],c.comment.push(n(Math.round(Date.now()/1E3))+" "+d.rediscovery[e]+" \u2116"+c.bad_req+" "+d.due_to_error[e]),B(h.asset,h.amount,
h.dir,h.experation,c)):(h.comment.push(n(Math.round(Date.now()/1E3))+" "+d.the_request_not_resubmitted_limit[e]),r(c.requestId,{status:d.refusal[e],arr_coment:JSON.stringify(h.comment)}))}g.deal.condition="deletion";w()}})}function Y(a){if(y.readyState)return y.send(a);location.reload()}function D(a){var f=m.platform.asset_status;return"undefined"===typeof f.available[a]?!1:f.available[a].val}function aa(a){var f=m.platform.activ,c;for(c in f)for(var g in f[c])if(g==a)return f[c][g];return!1}function O(a,
f,c){return Math.ceil((c.initial_bet-f)/m.platform.asset_status.yield[a].val*100)}function P(a,f){var c=m.platform.asset_status.available_expiration;return"undefined"===typeof c[a]||f<c[a].val||14400<f?!1:!0}function H(){setTimeout(function(){for(var a in m.plagin.strategy)for(var f in m.plagin.strategy[a])for(var c=m.plagin.strategy[a][f].transaction,g=c.open_trades.length-1;0<=g;g--){var h=c.open_trades[g];"deletion"==h.condition&&c.open_trades.splice(g,1);Math.round(Date.now()/1E3-L)>h.remtime&&
"deletion"!=h.condition&&(h.comment.push(n(Math.round(Date.now()/1E3))+" "+d.no_information_received_from_platform_transaction[e]+" "+d.emergency_series[e]),r(h.id,{status:d.closed_Errors[e],close_time:n(Math.round(Date.now()/1E3)),arr_coment:JSON.stringify(h.comment)}),c.open_trades.splice(g,1))}w()},0)}function N(a){H();var f={},c;for(c in m.plagin.strategy)for(var g in m.plagin.strategy[c])for(var h=m.plagin.strategy[c][g].transaction,l=0;l<h.open_trades.length;l++)if(h.open_trades[l].id==a)return f.status=
!0,f.deal=h.open_trades[l],f.strategy=m.plagin.strategy[c][g],f;f.status=!1;return f}function r(a,f){var c="UPDATE deals SET";for(parm in f){var g=f[parm];c=!isNaN(parseFloat(g))&&isFinite(g)?c+(" "+parm+"="+f[parm]+","):c+(" "+parm+"='"+f[parm]+"',")}g=c.lastIndexOf(",");c=c.substring(0,g);return x.postMessage({type:"sql",req:c+(' WHERE deal_id="'+a+'"')})}function K(a){x.postMessage({type:"playsound",track:a})}function oa(a){var f=+$('div.trsignal-win-conteyner[data="'+a.id+'"]').attr("data-value"),
c=Math.round(Date.now()/1E3);if(isNaN(f)||1<c-f)K("alert.wav"),$('div.trsignal-win-conteyner[data="'+a.id+'"]').attr("data-value",c);f=m.platform.asset_status;$("div").is('[data="'+a.id+'"]')?$('div.trsignal-win-conteyner[data="'+a.id+'"] table tbody').html(""):$("body").prepend('<div class="trsignal-win-conteyner" data-value="'+c+'" data="'+a.id+'"> <div class="trsignal-win-head-contyner"> <div class="trsignal-win-head-title"> '+d.signal_strategy_signals[e]+" "+a.title+'</div> <div class="trsignal-win-head-btnclose"></div> </div> <div class="trsignal-win-body-contyner"> <div class="body-signal-conteyner"> <table width="100%" cellpadding="0" cellspacing="0"> <thead> <tr><th>'+
d.signal_date[e]+"</th> <th>"+d.signal_asset[e]+"</th> <th>"+d.signal_direction[e]+"</th> <th>"+d.signal_action[e]+"</th></tr> </thead> <tbody> </tbody> </table> </div> </div> </div>");for(var g=0;g<a.transaction.signals.length;g++){c=a.transaction.signals[g];$('div.trsignal-win-conteyner[data="'+a.id+'"] table tbody').append('<tr data="'+g+'"></tr>');$('div.trsignal-win-conteyner[data="'+a.id+'"] table tbody tr[data="'+g+'"]').append("<td>"+n(c.date)+"</td>");var h=aa(c.asset);$('div.trsignal-win-conteyner[data="'+
a.id+'"] table tbody tr[data="'+g+'"]').append("<td>"+h.title+" "+f.yield[c.asset].val+"% </td>");switch(c.dir){case "up":$('div.trsignal-win-conteyner[data="'+a.id+'"] table tbody tr[data="'+g+'"]').append('<td><div class="signal-up"></div></td>');break;case "down":$('div.trsignal-win-conteyner[data="'+a.id+'"] table tbody tr[data="'+g+'"]').append('<td><div class="signal-down"></div></td>')}"undefined"!=typeof a.signalsgochart&&a.signalsgochart?$('div.trsignal-win-conteyner[data="'+a.id+'"] table tbody tr[data="'+
g+'"]').append('<td><div class="signal-action-contener"> <div class="signal-action-btn-openchart" data="'+c.asset+'">'+d.signal_open_chart[e]+'</div> <div class="signal-action-btn-delete" title="'+d.remove_signal[e]+'"></div> </div></td>'):$('div.trsignal-win-conteyner[data="'+a.id+'"] table tbody tr[data="'+g+'"]').append('<td><div class="signal-action-contener">  <div class="signal-action-btn-delete" title="'+d.remove_signal[e]+'"></div> </div></td>')}$('.trsignal-win-conteyner[data="'+a.id+'"]').draggable();
$('.trsignal-win-conteyner[data="'+a.id+'"] .signal-action-btn-delete').click(function(){var l=$(this).closest("tbody tr").index();a.transaction.signals.splice(l,1);w();$(this).closest("tr").remove();0==a.transaction.signals.length&&$('.trsignal-win-conteyner[data="'+a.id+'"] .trsignal-win-head-contyner .trsignal-win-head-btnclose').click()});$('.trsignal-win-conteyner[data="'+a.id+'"] .signal-action-contener .signal-action-btn-openchart').click(function(){var l=$(this).attr("data");"undefined"!==
typeof m.platform.asset_status.yield[l]&&D(l)&&$('div.assets-favorites-list__in [data-id="'+l+'"]').trigger("click")});$('.trsignal-win-conteyner[data="'+a.id+'"] .trsignal-win-head-contyner .trsignal-win-head-btnclose').click(function(){a.transaction.signals=[];w();$('.trsignal-win-conteyner[data="'+a.id+'"] .signal-action-btn-delete').unbind();$('.trsignal-win-conteyner[data="'+a.id+'"] .signal-action-contener .signal-action-btn-openchart').unbind();$(this).unbind();$(this).closest('.trsignal-win-conteyner[data="'+
a.id+'"]').remove()})}function V(a,f,c){$("#notification-conteyner").unbind();$("body").prepend('<div id="notification-conteyner"></div>');$("#notification-conteyner").append('<div class="notification-conteyner-title"></div><div class="notification-conteyner-body"></div><div class="notification-conteyner-button"></div>');$("#notification-conteyner .notification-conteyner-title").html(a);$("#notification-conteyner .notification-conteyner-body").html(f);$("#notification-conteyner").draggable();K("alert2.wav");
for(a=0;a<c.length;a++)$("#notification-conteyner .notification-conteyner-button").append('<div class="btn-close '+c[a]["class"]+'">'+c[a].title+"</div>"),$("#notification-conteyner .notification-conteyner-button .btn-close."+c[a]["class"]).click(c[a].func)}function ea(a){var f=G(a.data.strid);if("trade"==f.mode){if("run"!=f.status)return!1;var c=m.platform.asset_status;if("undefined"===typeof c.yield[a.data.asset]||!T(f.operating_time)||c.yield[a.data.asset].val<f.min_perc)return!1;for(var g=c=0;g<
f.transaction.open_trades.length;g++)"deletion"!=f.transaction.open_trades[g].condition&&c++;if(c>=f.same_time_deals)return!1;a:{for(c=0;c<f.transaction.open_trades.length;c++)if(g=f.transaction.open_trades[c],g.asset==a.data.asset&&"deletion"!=g.condition){c=!0;break a}c=!1}if(c||!D(a.data.asset)||!P(a.data.asset,f.expiration))return!1;if(0==f.transaction.queue.length)c={},c.strid=f.id,c.comment=[],c.comment.push(n(Math.round(Date.now()/1E3))+" "+d.received_signals_strategy[e]),B(a.data.asset,f.initial_bet,
a.data.dir,f.expiration,c);else{for(c=0;c<f.transaction.queue.length;c++){var h=f.transaction.queue[c];if(("any"==h.asses||h.asses==a.data.asset)&&h.except_asses!=a.data.asset){g=a.data.asset;a=a.data.dir;h=JSON.parse(JSON.stringify(h));var l=G(h.strid);if("yes"==l.apply_mg&&"run"==l.status){var p=l.martin.steps[h.infomartin.step];p="auto"==p.coefficient?O(g,h.infomartin.totalloss,l):Math.ceil(h.infomartin.last_amount*p.coefficient);var t={};t.strid=h.strid;t.infomartin=JSON.parse(JSON.stringify(h.infomartin));
t.comment=JSON.parse(JSON.stringify(h.comment));B(g,p,a,l.expiration,t)}f.transaction.queue.splice(c,1);break}}w()}}else{if("run"!=f.status)return!1;c=m.platform.asset_status;if("undefined"===typeof c.yield[a.data.asset]||!T(f.operating_time)||c.yield[a.data.asset].val<f.min_perc||!D(a.data.asset))return!1;f.transaction.signals.unshift({date:Math.round(Date.now()/1E3),strategy:f.title,asset:a.data.asset,dir:a.data.dir});w();oa(f)}}function B(a,f,c,g,h){var l=(""+(Date.now()+Math.random())).split(".");
l=l[0]*l[1];var p=aa(a);if("put"!=c||"call"!=c)switch(c){case "down":c="put";break;case "up":c="call"}if(f>m.user.balans)if(1<m.user.balans)h.comment.push(n(Math.round(Date.now()/1E3))+" "+d.amount[e]+" "+f+" $ "+d.exceeds_available_account_balance[e]),f=Math.floor(m.user.balans);else{"undefined"!=typeof h.infomartin&&x.postMessage({type:"adding_coment_lastmartindeals",data:{deal_id:h.infomartin.last_dealid,coment:d.insufficient_funds_account[e]+", "+d.martingale_action_canceled[e]}});return}for(var t=
Math.round(Date.now()/1E3-L),b=0;;b--)if(0==(t+b)%60){t+=b;break}h.id=l;h.dir=c;h.asset=a;h.asset_title=p.title;h.amount=f;h.experation=g;h.condition="waiting_open";h.remtime=(-30>b?t+g+60:t+g)+30;b=G(h.strid);h.strtitle=b.title;h.comment.push(n(Math.round(Date.now()/1E3))+" "+d.request_open_rade_sent[e]);if("undefined"!=typeof h.infomartin){t=h.infomartin.id;var C=h.infomartin.step+1}else t="",C=0;x.postMessage({type:"sql",req:'INSERT INTO deals (deal_id,asset,dir,experation,amount,str_title,str_id,status,m_id,m_step,arr_coment) VALUES ("'+
l+'","'+p.title+'","'+c+'",'+g+","+f+',"'+b.title+'","'+h.strid+'","'+d.expected_open[e]+'","'+t+'",'+C+",'"+JSON.stringify(h.comment)+"')"});b.transaction.open_trades.push(h);w();u.emit("openOrder",{asset:a,amount:f,action:c,isDemo:m.user.isDemo,requestId:l,optionType:100,time:g})}function la(a){a=A(a);var f=a.requestId,c=N(f);if(c.status)c.deal.id=a.id,c.deal.condition="open",c.deal.comment.push(n(Math.round(Date.now()/1E3))+" "+d.opened_deal_platform[e]),r(f,{deal_id:a.id,status:d.open[e],open_time:n(Math.round(Date.now()/
1E3)),arr_coment:JSON.stringify(c.deal.comment)}),w();else return!1}function na(a){H()}function ma(a,f){void 0==f&&(a=A(a));try{for(var c=0;c<a.deals.length;c++){var g=N(a.deals[c].id);if(g.status){g.deal.condition="close";g.deal.profit=a.deals[c].profit;"run"==g.strategy.status&&(g.strategy.transaction.profit+=a.deals[c].profit);a.deals[c].profit+g.deal.amount==g.deal.amount&&(g.deal.result="standoff");a.deals[c].profit+g.deal.amount<g.deal.amount&&(g.deal.result="loose");a.deals[c].profit+g.deal.amount>
g.deal.amount&&(g.deal.result="win");switch(g.deal.result){case "win":g.deal.comment.push(n(Math.round(Date.now()/1E3))+" "+d.deal_closed_win[e]);break;case "loose":g.deal.comment.push(n(Math.round(Date.now()/1E3))+" "+d.deal_closed_loose[e]);break;case "standoff":g.deal.comment.push(n(Math.round(Date.now()/1E3))+" "+d.deal_closed_standoff[e])}r(g.deal.id,{close_time:n(Math.round(Date.now()/1E3)),status:d.close[e],profit:g.deal.profit,result:g.deal.result,arr_coment:JSON.stringify(g.deal.comment)});
a:{var h=G(g.deal.strid),l=h.transaction.profit,p=h.sl,t=h.tp,b=null;0!=p&&l<=-1*p&&(b="sl");0!=t&&l>=t&&(b="tp");switch(b){case "sl":var C=d.sl_worked[e];break;case "tp":C=d.tp_worked[e];break;case null:var I=!1;break a}if("run"==h.status){h.status="stopped";for(b=0;b<h.transaction.queue.length;b++)x.postMessage({type:"adding_coment_lastmartindeals",data:{deal_id:h.transaction.queue[b].iddeal_initiator,coment:d.strategy_is_disabled[e]+" "+C+", "+d.martingale_action_canceled[e]}});h.transaction.queue=
[];h.transaction.profit=0;I=C}else I=!1}I&&g.deal.comment.push(n(Math.round(Date.now()/1E3))+" "+I);if("run"==g.strategy.status)if("yes"==g.strategy.apply_mg){b=g;switch(b.deal.result){case "loose":"undefined"===typeof b.deal.infomartin?(b.deal.infomartin={},b.deal.infomartin.id=b.deal.id,b.deal.infomartin.step=0,b.deal.infomartin.totalloss=b.deal.profit,b.deal.infomartin.dirsignal=b.deal.dir):(null==b.deal.infomartin.dirsignal&&(b.deal.infomartin.dirsignal=b.deal.dir),b.deal.infomartin.step+=1,b.deal.infomartin.totalloss+=
b.deal.profit);b.deal.infomartin.last_amount=b.deal.amount;b.deal.infomartin.last_dealid=b.deal.id;var q=b.deal.infomartin.step;if("undefined"!=typeof b.strategy.martin.steps[q]){var E=b.strategy.martin.steps[q];switch(E.action){case "on_signal":if(m.platform.asset_status.yield[b.deal.asset].val>=b.strategy.martin.lower_percent)if(D(b.deal.asset)&&P(b.deal.asset,b.strategy.expiration)){var F=b.deal.asset,Q="auto"==E.coefficient?O(F,b.deal.infomartin.totalloss,b.strategy):Math.ceil(b.deal.amount*E.coefficient),
J=b.deal.infomartin.dirsignal;b.deal.comment.push(n(Math.round(Date.now()/1E3))+" "+d.will_applied[e]+" "+(q+1)+" "+d.step_martingale[e]+", "+d.direction_signal[e]+".");r(b.deal.id,{arr_coment:JSON.stringify(b.deal.comment)});var v={};v.strid=b.strategy.id;v.infomartin=JSON.parse(JSON.stringify(b.deal.infomartin));v.comment=[];v.comment.push(d.applied[e]+" "+(q+1)+" "+d.step_martingale[e]+", "+d.direction_signal[e]+".");B(F,Q,J,b.strategy.expiration,v)}else switch(b.strategy.martin.not_available_asset){case "new_asset":b.deal.comment.push(n(Math.round(Date.now()/
1E3))+" "+d.applying_step[e]+" "+(q+1)+" "+d.martingale_impossible[e]+", "+d.since_expiration_itself[e]+" "+b.deal.asset+" "+d.became_unavailable[e]+" "+d.transfer_another_asset[e]);r(b.deal.id,{arr_coment:JSON.stringify(b.deal.comment)});var k={};k.iddeal_initiator=b.deal.id;k.asses="any";k.except_asses=b.deal.asset;k.strid=b.strategy.id;k.infomartin=JSON.parse(JSON.stringify(b.deal.infomartin));k.infomartin.dirsignal=null;k.comment=[];k.comment.push(d.move_another_asset_bystep[e]+" "+(q+1)+" "+
d.martingale_as[e]+" "+b.deal.asset+" "+d.was_not_available[e]);b.strategy.transaction.queue.push(k);break;case "wait":b.deal.comment.push(n(Math.round(Date.now()/1E3))+" "+d.applying_step[e]+" "+(q+1)+" "+d.martingale_impossible[e]+", "+d.since_expiration_itself[e]+" "+b.deal.asset+" "+d.became_unavailable[e]+" "+d.waiting_activity_resume[e]);r(b.deal.id,{arr_coment:JSON.stringify(b.deal.comment)});k={};k.iddeal_initiator=b.deal.id;k.asses=b.deal.asset;k.except_asses=null;k.strid=b.strategy.id;k.infomartin=
JSON.parse(JSON.stringify(b.deal.infomartin));k.infomartin.dirsignal=null;k.comment=[];k.comment.push(d.availability_expiration_asset[e]+" "+b.deal.asset+" "+d.asset_recycled[e]+" "+d.apply[e]+" "+(q+1)+" "+d.step_martingale[e]);b.strategy.transaction.queue.push(k);break;case "stop":b.deal.comment.push(n(Math.round(Date.now()/1E3))+" "+d.applying_step[e]+" "+(q+1)+" "+d.martingale_impossible[e]+", "+d.since_expiration_itself[e]+" "+b.deal.asset+" "+d.became_unavailable[e]+" "+d.stopping_series[e]),
r(b.deal.id,{arr_coment:JSON.stringify(b.deal.comment)})}else switch(b.strategy.martin.yield_reduction){case "new_asset":b.deal.comment.push(n(Math.round(Date.now()/1E3))+" "+d.applying_step[e]+" "+(q+1)+" "+d.martingale_impossible[e]+", "+d.since_asset[e]+" "+b.deal.asset+" "+d.yield_decreased[e]+", "+d.according_instructions_transfer_another_asset[e]);r(b.deal.id,{arr_coment:JSON.stringify(b.deal.comment)});k={};k.iddeal_initiator=b.deal.id;k.asses="any";k.except_asses=b.deal.asset;k.strid=b.strategy.id;
k.infomartin=JSON.parse(JSON.stringify(b.deal.infomartin));k.infomartin.dirsignal=null;k.comment=[];k.comment.push(d.move_another_asset_bystep[e]+" "+(q+1)+" "+d.martingale_as[e]+" "+b.deal.asset+" "+d.yield_decreased[e]+".");b.strategy.transaction.queue.push(k);break;case "wait":b.deal.comment.push(n(Math.round(Date.now()/1E3))+" "+d.applying_step[e]+" "+(q+1)+" "+d.martingale_impossible[e]+", "+d.since_asset[e]+" "+b.deal.asset+" "+d.yield_decreased[e]+", "+d.according_instructions_yield_will[e]);
r(b.deal.id,{arr_coment:JSON.stringify(b.deal.comment)});k={};k.iddeal_initiator=b.deal.id;k.asses=b.deal.asset;k.except_asses=null;k.strid=b.strategy.id;k.infomartin=JSON.parse(JSON.stringify(b.deal.infomartin));k.infomartin.dirsignal=null;k.comment=[];k.comment.push(d.step_martingale[e]+" "+(q+1)+". "+d.return_asset[e]+" "+b.deal.asset+" "+d.asset_recycled[e]);b.strategy.transaction.queue.push(k);break;case "stop":b.deal.comment.push(n(Math.round(Date.now()/1E3))+" "+d.applying_step[e]+" "+(q+1)+
" "+d.martingale_impossible[e]+", "+d.since_asset[e]+" "+b.deal.asset+" "+d.yield_decreased[e]+", "+d.martingale_series_stopped[e]),r(b.deal.id,{arr_coment:JSON.stringify(b.deal.comment)})}b.deal.condition="deletion";break;case "against_signal":if(m.platform.asset_status.yield[b.deal.asset].val>=b.strategy.martin.lower_percent)if(D(b.deal.asset)&&P(b.deal.asset,b.strategy.expiration)){F=b.deal.asset;Q="auto"==E.coefficient?O(F,b.deal.infomartin.totalloss,b.strategy):Math.ceil(b.deal.amount*E.coefficient);
switch(b.deal.infomartin.dirsignal){case "put":J="call";break;case "call":J="put"}b.deal.comment.push(n(Math.round(Date.now()/1E3))+" "+d.will_applied[e]+" "+(q+1)+" "+d.step_martingale[e]+", "+d.against_direction_signal[e]+".");r(b.deal.id,{arr_coment:JSON.stringify(b.deal.comment)});v={};v.strid=b.strategy.id;v.infomartin=JSON.parse(JSON.stringify(b.deal.infomartin));v.comment=[];v.comment.push(n(Math.round(Date.now()/1E3))+" "+d.applied[e]+" "+(q+1)+" "+d.step_martingale[e]+", "+d.against_direction_signal[e]+
".");B(F,Q,J,b.strategy.expiration,v)}else switch(b.strategy.martin.not_available_asset){case "new_asset":b.deal.comment.push(n(Math.round(Date.now()/1E3))+" "+d.applying_step[e]+" "+(q+1)+" "+d.martingale_against_direction_impossible[e]+", "+d.since_expiration_itself[e]+" "+b.deal.asset+" "+d.became_unavailable[e]+" "+d.transfer_another_asset[e]);r(b.deal.id,{arr_coment:JSON.stringify(b.deal.comment)});k={};k.iddeal_initiator=b.deal.id;k.asses="any";k.except_asses=b.deal.asset;k.strid=b.strategy.id;
k.infomartin=JSON.parse(JSON.stringify(b.deal.infomartin));k.infomartin.dirsignal=null;k.comment=[];k.comment.push(d.move_another_asset_bystep[e]+" "+(q+1)+" "+d.martingale_as[e]+" "+b.deal.asset+" "+d.was_not_available[e]);b.strategy.transaction.queue.push(k);break;case "wait":b.deal.comment.push(n(Math.round(Date.now()/1E3))+" "+d.applying_step[e]+" "+(q+1)+" "+d.martingale_against_direction_impossible[e]+", "+d.since_expiration_itself[e]+" "+b.deal.asset+" "+d.became_unavailable[e]+" "+d.waiting_activity_resume[e]);
r(b.deal.id,{arr_coment:JSON.stringify(b.deal.comment)});k={};k.iddeal_initiator=b.deal.id;k.asses=b.deal.asset;k.except_asses=null;k.strid=b.strategy.id;k.infomartin=JSON.parse(JSON.stringify(b.deal.infomartin));k.infomartin.dirsignal=null;k.comment=[];k.comment.push(d.availability_expiration_asset[e]+" "+b.deal.asset+" "+d.asset_recycled[e]+" "+d.apply[e]+" "+(q+1)+" "+d.step_martingale[e]);b.strategy.transaction.queue.push(k);break;case "stop":b.deal.comment.push(n(Math.round(Date.now()/1E3))+
" "+d.applying_step[e]+" "+(q+1)+" "+d.martingale_against_direction_impossible[e]+", "+d.since_expiration_itself[e]+" "+b.deal.asset+" "+d.became_unavailable[e]+" "+d.stopping_series[e]),r(b.deal.id,{arr_coment:JSON.stringify(b.deal.comment)})}else switch(b.strategy.martin.yield_reduction){case "new_asset":b.deal.comment.push(n(Math.round(Date.now()/1E3))+" "+d.applying_step[e]+" "+(q+1)+" "+d.martingale_against_direction_impossible[e]+", "+d.since_asset[e]+" "+b.deal.asset+" "+d.yield_decreased[e]+
", "+d.according_instructions_transfer_another_asset[e]);r(b.deal.id,{arr_coment:JSON.stringify(b.deal.comment)});k={};k.iddeal_initiator=b.deal.id;k.asses="any";k.except_asses=b.deal.asset;k.strid=b.strategy.id;k.infomartin=JSON.parse(JSON.stringify(b.deal.infomartin));k.infomartin.dirsignal=null;k.comment=[];k.comment.push(d.move_another_asset_bystep[e]+" "+(q+1)+" "+d.martingale_as[e]+". "+b.deal.asset+" "+d.yield_decreased[e]+".");b.strategy.transaction.queue.push(k);break;case "wait":b.deal.comment.push(n(Math.round(Date.now()/
1E3))+" "+d.applying_step[e]+" "+(q+1)+" "+d.martingale_against_direction_impossible[e]+", "+d.since_asset[e]+" "+b.deal.asset+" "+d.yield_decreased[e]+". "+d.according_instructions_yield_will[e]);r(b.deal.id,{arr_coment:JSON.stringify(b.deal.comment)});k={};k.iddeal_initiator=b.deal.id;k.asses=b.deal.asset;k.except_asses=null;k.strid=b.strategy.id;k.infomartin=JSON.parse(JSON.stringify(b.deal.infomartin));k.infomartin.dirsignal=null;k.comment=[];k.comment.push(d.step_martingale[e]+" "+(q+1)+". "+
d.return_asset[e]+" "+b.deal.asset+" "+d.asset_recycled[e]);b.strategy.transaction.queue.push(k);break;case "stop":b.deal.comment.push(n(Math.round(Date.now()/1E3))+" "+d.applying_step[e]+" "+(q+1)+" "+d.martingale_against_direction_impossible[e]+", "+d.since_asset[e]+" "+b.deal.asset+" "+d.yield_decreased[e]+". "+d.stopping_series[e]),r(b.deal.id,{arr_coment:JSON.stringify(b.deal.comment)})}b.deal.condition="deletion";break;case "new_asset":b.deal.comment.push(n(Math.round(Date.now()/1E3))+" "+d.will_applied[e]+
" "+(q+1)+" "+d.step_martingale[e]+" "+d.next_signal_new_asset[e]+"."),r(b.deal.id,{arr_coment:JSON.stringify(b.deal.comment)}),k={},k.iddeal_initiator=b.deal.id,k.asses="any",k.except_asses=b.deal.asset,k.strid=b.strategy.id,k.infomartin=JSON.parse(JSON.stringify(b.deal.infomartin)),k.infomartin.dirsignal=null,k.comment=[],k.comment.push(d.applied[e]+" "+(q+1)+" "+d.step_martingale[e]+" "+d.next_signal_new_asset[e]+"."),b.strategy.transaction.queue.push(k),b.deal.condition="deletion"}}else b.deal.comment.push(n(Math.round(Date.now()/
1E3))+" "+d.all_steps_martingale_used_martingale_stopped[e]),r(b.deal.id,{arr_coment:JSON.stringify(b.deal.comment)}),b.deal.condition="deletion";break;case "standoff":b.deal.comment.push(n(Math.round(Date.now()/1E3))+" "+d.deal_re_opened[e]);r(b.deal.id,{arr_coment:JSON.stringify(b.deal.comment)});v={};v.strid=b.strategy.id;"undefined"!=typeof b.deal.infomartin&&(v.infomartin=JSON.parse(JSON.stringify(b.deal.infomartin)));v.comment=[];v.comment.push(d.rediscovery_transaction_not_changed[e]);B(b.deal.asset,
b.deal.amount,b.deal.dir,b.strategy.expiration,v);b.deal.condition="deletion";break;case "win":b.deal.condition="deletion"}w();H()}else g.deal.comment.push(n(Math.round(Date.now()/1E3))+" "+d.martingale_notapplied_transaction_terminated[e]),r(g.deal.id,{arr_coment:JSON.stringify(g.deal.comment)}),g.deal.condition="deletion";else g.deal.comment.push(n(Math.round(Date.now()/1E3))+" "+d.strategy_disabled_transaction_terminated[e]),r(g.deal.id,{arr_coment:JSON.stringify(g.deal.comment)}),g.deal.condition=
"deletion"}}}catch(pa){}w();H()}function ba(){try{chrome.storage.local.get(null,function(a){var f=JSON.parse(JSON.stringify(m.plagin)),c=JSON.parse(JSON.stringify(a.plagin)),g=m.plagin.strategy,h=a.plagin.strategy,l;for(l in g)for(var p in g[l])if("undefined"!=typeof h[l][p]&&JSON.stringify(g[l][p].transaction).length!=JSON.stringify(h[l][p].transaction).length&&"run"==h[l][p].status)return setTimeout(function(){ba()},1E3),!1;m=a;e=m.plagin.setting.language;"undefined"!=typeof f.strategy&&ca(f.strategy,
c.strategy)&&U();return!0})}catch(a){}}var Z=0;chrome.storage.onChanged.addListener(function(a,f){chrome.storage.local.get(null,function(c){"processing"!=c.initiator_storage_update&&ba()})});var u,y={readyState:0},m,d,e,W,M=!1,L=-7200,x=chrome.runtime.connect({name:"PocketOptionRobot"});x.onDisconnect.addListener(function(a){location.reload()});x.onMessage.addListener(function(a){});chrome.storage.local.get(null,function(a){m=a;d=m.localization;e=m.plagin.setting.language;ha(function(f){ka(ia(f),
function(c){X([{name:"isDemo",val:c.isdemo},{name:"uid",val:c.uid},{name:"session",val:c.session},{name:"is-fully-verified",val:c["is-fully-verified"]}]);y.readyState||(y=new WebSocket("wss://pocketoptionrobot.com/ws"),y.onopen=function(){Y(JSON.stringify({type:"user_registration",data:{uid:m.user.uid}}))},y.onmessage=function(g){da(JSON.parse(g.data))},y.onclose=function(g){location.reload()})})})})});